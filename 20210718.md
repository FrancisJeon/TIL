<!-- 20210718 일 day 42 -->
<!--  
day 42

스프링 빈과 의존관계

@Autowired란?

-->

## 1. 오늘 한 일 📅

*   김영한 - 스프링 강의

## 2. 오늘의 공부 정리 🗒️

*   ### 컴포넌트 스캔 (스프링 빈과 의존관계)  
    
    멤버 컨트롤러를 생성해주고 컨트롤러가 멤버 서비스를 통해 회원가입을 하고 데이터를 조회하게 만든다. 이 관계를 의존관계가 있다고 한다.  
    `@Controller` 어노테이션을 주면 내용이 없어도 스프링 컨테이너가 이 객체를 생성해서 스프링에 넣어주고 관리를 한다.  
    컨트롤러에 서비스를 가져다 쓸 때 new Service()를 해서 생성해도 되지만 스프링에선 한개의 서비스를 가지고 계속 사용하는게 좋다. 한번 명시적으로 불러준 뒤 컨테이너에 등록하는게 좋다.  
    컨테이너에 등록하는 방법은 컨트롤러 생성자를 만들어 준 뒤 인자로 서비스를 받고 둘 사이를 이어주기 위해 `@Autowired` 어노테이션을 해주면 된다.  
    
    ```java
    private final MemberService memberservice;
    
    @Autowired
    public MemberController(MemberService memberService) {
        this.memberService = memberService;
    }
    ```
    
    멤버 서비스는 순수한 자바클래스여서 스프링이 알 수 있는 방법이 없다. 그러므로 `@Service` 어노테이션을 걸어줘야 와이어가 가능해진다. 마찬가지로 리포지토리도 `@Repository` 어노테이션으로 걸어줘야 한다.  
    컨트롤러 → 서비스 →리포지토리 방향으로 각자 와이어를 해서 생성될 때 가져다 넣어주는걸 DI(의존관계 주입)라고 한다.  
    
    #### 스프링 빈을 등록하는 두가지 방법  
    
    1.  컴포넌트 스캔과 자동 의존관계 설정 = 위에서 한 방법, 서비스 어노테이션 내부에 컴포넌트가 존재한다. 각자 쓸 수 있게 하나로 유지하는 방법 (싱글톤)
    
    2.  자바 코드로 직접 빈 등록하기 = 다음 강의에 진행
    
    #### 컴포넌트 스캔과 자동 의존관계 설정  
    
    *   @Component 어노테이션이 있으면 스프링 빈으로 자동 등록된다.
    *   @Controller 컨트롤러가 스프링 빈으로 등록되는 이유도 컴포넌트 스캔 때문이다.
    *   @Component를 포함하는 다음 어노테이션도 빈으로 자동 등록된다.
        *   @Controller
        *   @Service
        *   @Repository
    
    Q. 아무곳에나 `@Component` 어노테이션을 써도 되는가?  
    A. 기본적으론 안되고 어플리케이션 패키지 하위에서는 가능하다. 

## 3. 다음에 할 일

#### 공부

*   남궁성 유튜브 = 객체지향, 2-5, 10, 3-7, 8,17,19, 5-12~15, 24
